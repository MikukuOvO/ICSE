train-ticket:
  ts-admin-order-service-cpu:
    deploymentName: ts-admin-order-service
    promql: 'avg by (pod) (rate(container_cpu_usage_seconds_total{pod=~"ts-admin-order-service.*"}[1m]))'
  # ts-admin-order-service-errorrate:
  #   deploymentName: ts-admin-order-service
  #   promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-admin-order-service",response_code=~"5.."}[1m]))'
  ts-admin-order-service-latency:
    deploymentName: ts-admin-order-service
    promql: 'histogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_workload="ts-admin-order-service"}[1m])) by (le))'
  ts-admin-order-service-memory:
    deploymentName: ts-admin-order-service
    promql: 'avg by (pod) (avg_over_time(container_memory_usage_bytes{pod=~"ts-admin-order-service.*"}[1m]))'
  ts-admin-order-service-workload:
    deploymentName: ts-admin-order-service
    promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-admin-order-service"}[1m]))'
  ts-admin-route-service-cpu:
    deploymentName: ts-admin-route-service
    promql: 'avg by (pod) (rate(container_cpu_usage_seconds_total{pod=~"ts-admin-route-service.*"}[1m]))'
  # ts-admin-route-service-errorrate:
  #   deploymentName: ts-admin-route-service
  #   promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-admin-route-service",response_code=~"5.."}[1m]))'
  ts-admin-route-service-latency:
    deploymentName: ts-admin-route-service
    promql: 'histogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_workload="ts-admin-route-service"}[1m])) by (le))'
  ts-admin-route-service-memory:
    deploymentName: ts-admin-route-service
    promql: 'avg by (pod) (avg_over_time(container_memory_usage_bytes{pod=~"ts-admin-route-service.*"}[1m]))'
  ts-admin-route-service-workload:
    deploymentName: ts-admin-route-service
    promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-admin-route-service"}[1m]))'
  ts-auth-service-cpu:
    deploymentName: ts-auth-service
    promql: 'avg by (pod) (rate(container_cpu_usage_seconds_total{pod=~"ts-auth-service.*"}[1m]))'
  # ts-auth-service-errorrate:
  #   deploymentName: ts-auth-service
  #   promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-auth-service",response_code=~"5.."}[1m]))'
  ts-auth-service-latency:
    deploymentName: ts-auth-service
    promql: 'histogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_workload="ts-auth-service"}[1m])) by (le))'
  ts-auth-service-memory:
    deploymentName: ts-auth-service
    promql: 'avg by (pod) (avg_over_time(container_memory_usage_bytes{pod=~"ts-auth-service.*"}[1m]))'
  ts-auth-service-workload:
    deploymentName: ts-auth-service
    promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-auth-service"}[1m]))'
  ts-notification-service-cpu:
    deploymentName: ts-notification-service
    promql: 'avg by (pod) (rate(container_cpu_usage_seconds_total{pod=~"ts-notification-service.*"}[1m]))'
  # ts-notification-service-errorrate:
  #   deploymentName: ts-notification-service
  #   promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-notification-service",response_code=~"5.."}[1m]))'
  ts-notification-service-latency:
    deploymentName: ts-notification-service
    promql: 'histogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_workload="ts-notification-service"}[1m])) by (le))'
  ts-notification-service-memory:
    deploymentName: ts-notification-service
    promql: 'avg by (pod) (avg_over_time(container_memory_usage_bytes{pod=~"ts-notification-service.*"}[1m]))'
  ts-notification-service-workload:
    deploymentName: ts-notification-service
    promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-notification-service"}[1m]))'
  ts-order-service-cpu:
    deploymentName: ts-order-service
    promql: 'avg by (pod) (rate(container_cpu_usage_seconds_total{pod=~"ts-order-service.*"}[1m]))'
  # ts-order-service-errorrate:
  #   deploymentName: ts-order-service
  #   promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-order-service",response_code=~"5.."}[1m]))'
  ts-order-service-latency:
    deploymentName: ts-order-service
    promql: 'histogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_workload="ts-order-service"}[1m])) by (le))'
  ts-order-service-memory:
    deploymentName: ts-order-service
    promql: 'avg by (pod) (avg_over_time(container_memory_usage_bytes{pod=~"ts-order-service.*"}[1m]))'
  ts-order-service-workload:
    deploymentName: ts-order-service
    promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-order-service"}[1m]))'
  ts-payment-service-cpu:
    deploymentName: ts-payment-service
    promql: 'avg by (pod) (rate(container_cpu_usage_seconds_total{pod=~"ts-payment-service.*"}[1m]))'
  # ts-payment-service-errorrate:
  #   deploymentName: ts-payment-service
  #   promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-payment-service",response_code=~"5.."}[1m]))'
  ts-payment-service-latency:
    deploymentName: ts-payment-service
    promql: 'histogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_workload="ts-payment-service"}[1m])) by (le))'
  ts-payment-service-memory:
    deploymentName: ts-payment-service
    promql: 'avg by (pod) (avg_over_time(container_memory_usage_bytes{pod=~"ts-payment-service.*"}[1m]))'
  ts-payment-service-workload:
    deploymentName: ts-payment-service
    promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-payment-service"}[1m]))'
  ts-price-service-cpu:
    deploymentName: ts-price-service
    promql: 'avg by (pod) (rate(container_cpu_usage_seconds_total{pod=~"ts-price-service.*"}[1m]))'
  # ts-price-service-errorrate:
  #   deploymentName: ts-price-service
  #   promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-price-service",response_code=~"5.."}[1m]))'
  ts-price-service-latency:
    deploymentName: ts-price-service
    promql: 'histogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_workload="ts-price-service"}[1m])) by (le))'
  ts-price-service-memory:
    deploymentName: ts-price-service
    promql: 'avg by (pod) (avg_over_time(container_memory_usage_bytes{pod=~"ts-price-service.*"}[1m]))'
  ts-price-service-workload:
    deploymentName: ts-price-service
    promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-price-service"}[1m]))'
  ts-route-service-cpu:
    deploymentName: ts-route-service
    promql: 'avg by (pod) (rate(container_cpu_usage_seconds_total{pod=~"ts-route-service.*"}[1m]))'
  # ts-route-service-errorrate:
  #   deploymentName: ts-route-service
  #   promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-route-service",response_code=~"5.."}[1m]))'
  ts-route-service-latency:
    deploymentName: ts-route-service
    promql: 'histogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_workload="ts-route-service"}[1m])) by (le))'
  ts-route-service-memory:
    deploymentName: ts-route-service
    promql: 'avg by (pod) (avg_over_time(container_memory_usage_bytes{pod=~"ts-route-service.*"}[1m]))'
  ts-route-service-workload:
    deploymentName: ts-route-service
    promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-route-service"}[1m]))'
  ts-train-service-cpu:
    deploymentName: ts-train-service
    promql: 'avg by (pod) (rate(container_cpu_usage_seconds_total{pod=~"ts-train-service.*"}[1m]))'
  # ts-train-service-errorrate:
  #   deploymentName: ts-train-service
  #   promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-train-service",response_code=~"5.."}[1m]))'
  ts-train-service-latency:
    deploymentName: ts-train-service
    promql: 'histogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_workload="ts-train-service"}[1m])) by (le))'
  ts-train-service-memory:
    deploymentName: ts-train-service
    promql: 'avg by (pod) (avg_over_time(container_memory_usage_bytes{pod=~"ts-train-service.*"}[1m]))'
  ts-train-service-workload:
    deploymentName: ts-train-service
    promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-train-service"}[1m]))'
  ts-travel-service-cpu:
    deploymentName: ts-travel-service
    promql: 'avg by (pod) (rate(container_cpu_usage_seconds_total{pod=~"ts-travel-service.*"}[1m]))'
  # ts-travel-service-errorrate:
  #   deploymentName: ts-travel-service
  #   promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-travel-service",response_code=~"5.."}[1m]))'
  ts-travel-service-latency:
    deploymentName: ts-travel-service
    promql: 'histogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_workload="ts-travel-service"}[1m])) by (le))'
  ts-travel-service-memory:
    deploymentName: ts-travel-service
    promql: 'avg by (pod) (avg_over_time(container_memory_usage_bytes{pod=~"ts-travel-service.*"}[1m]))'
  ts-travel-service-workload:
    deploymentName: ts-travel-service
    promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-travel-service"}[1m]))'
  ts-ui-dashboard-cpu:
    deploymentName: ts-ui-dashboard
    promql: 'avg by (pod) (rate(container_cpu_usage_seconds_total{pod=~"ts-ui-dashboard.*"}[1m]))'
  # ts-ui-dashboard-errorrate:
  #   deploymentName: ts-ui-dashboard
  #   promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-ui-dashboard",response_code=~"5.."}[1m]))'
  ts-ui-dashboard-latency:
    deploymentName: ts-ui-dashboard
    promql: 'histogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_workload="ts-ui-dashboard"}[1m])) by (le))'
  ts-ui-dashboard-memory:
    deploymentName: ts-ui-dashboard
    promql: 'avg by (pod) (avg_over_time(container_memory_usage_bytes{pod=~"ts-ui-dashboard.*"}[1m]))'
  ts-ui-dashboard-workload:
    deploymentName: ts-ui-dashboard
    promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-ui-dashboard"}[1m]))'
  ts-user-service-cpu:
    deploymentName: ts-user-service
    promql: 'avg by (pod) (rate(container_cpu_usage_seconds_total{pod=~"ts-user-service.*"}[1m]))'
  # ts-user-service-errorrate:
  #   deploymentName: ts-user-service
  #   promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-user-service",response_code=~"5.."}[1m]))'
  ts-user-service-latency:
    deploymentName: ts-user-service
    promql: 'histogram_quantile(0.90, sum(rate(istio_request_duration_milliseconds_bucket{destination_workload="ts-user-service"}[1m])) by (le))'
  ts-user-service-memory:
    deploymentName: ts-user-service
    promql: 'avg by (pod) (avg_over_time(container_memory_usage_bytes{pod=~"ts-user-service.*"}[1m]))'
  ts-user-service-workload:
    deploymentName: ts-user-service
    promql: 'avg by (pod) (rate(istio_requests_total{destination_workload="ts-user-service"}[1m]))'
